<% @title = "Mutliple Assessment Importer" %>

<% content_for :javascripts do %>
  <script type="application/javascript">
    jQuery(function() {
      $importTarballForm = $('#import-tarball-form');
      $tarballFilenameInput = $('#tarFile-name');

      /* two-way-bind newDayField with daysField */
      $tarballFilenameInput.on('change', function() {
        $importTarballForm.submit();
      });
    });
  </script>
<% end %>



<div class="section">
  <h4><li>Import from tarball</h4>
  <h5>You can import a tarball with the assessment directory.</h5>
  <%= form_tag({action: :multiImport}, multipart: true, id: "import-tarball-form") do %>
    <div class="file-field input-field" style="margin: 1.5rem 0 !important">
      <div class="btn">
        <span>Browse</span>
        <%= file_field_tag "tarFile" %>
      </div>
      <div class="file-path-wrapper">
        <%= text_field_tag "tarFile-name", "Upload Assessment Tarball", class: "file-path validate" %>
      </div>
    </div>
  <% end %>
</div>

<div class="section">
  <h4>Guide for making the tar ball</h4>
  <p>a starter tarball for this method of importing can be found <a href="https://github.com/UBAutograding/Autolab/raw/multi-assessment-import/examples/multiple%20assessment%20import%20starter.tar/">here</a></p>
  <p>please do not rename the handin directory in the YAML file</p>
  <p>the top level folder names must match the name of the assessment in the YAML file as well as the name of the YAML file itself</p>
  <p>if the assessment does not have an autograded componet do not include autograde-Makefile or autograde.tar</p>
  <p>if the assessment does have an autograded componet include autograde-Makefile and autograde.tar</p>
  <p>please do not add any other files or directories than are what included in the starter</p>
</div>
